# Trading Platform - Production Environment Configuration
# DO NOT COMMIT THIS FILE TO VERSION CONTROL
# Copy this file to .env and fill in all required values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3000
API_URL=https://api.tradingplatform.com
FRONTEND_URL=https://tradingplatform.com
WS_URL=wss://api.tradingplatform.com

# Number of API replicas (for scaling)
API_REPLICAS=2
WEB_REPLICAS=2

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_USER=trading_platform
DB_PASSWORD=CHANGE_THIS_TO_SECURE_RANDOM_PASSWORD
DB_NAME=trading_platform
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@db:5432/${DB_NAME}?schema=public

# Connection pool settings
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=CHANGE_THIS_TO_SECURE_REDIS_PASSWORD

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# Generate secure secrets using: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_SECURE_JWT_SECRET_MIN_64_CHARS
JWT_REFRESH_SECRET=CHANGE_THIS_TO_SECURE_REFRESH_SECRET_MIN_64_CHARS
JWT_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d

# =============================================================================
# PAYMENT API CONFIGURATION
# =============================================================================
# Wave API (Mobile Money - West Africa)
WAVE_API_KEY=your_wave_api_key_here
WAVE_SECRET=your_wave_secret_here
WAVE_WEBHOOK_SECRET=your_wave_webhook_secret

# Orange Money API (Mobile Money - West Africa)
ORANGE_API_KEY=your_orange_api_key_here
ORANGE_SECRET=your_orange_secret_here
ORANGE_WEBHOOK_SECRET=your_orange_webhook_secret

# Stripe (Credit/Debit Cards)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# =============================================================================
# PARTNER BANK API CONFIGURATION
# =============================================================================
PARTNER_BANK_API_KEY=your_bank_api_key
PARTNER_BANK_SECRET=your_bank_api_secret
PARTNER_BANK_BASE_URL=https://api.partnerbank.com/v1

# =============================================================================
# WEB3 / CRYPTOCURRENCY CONFIGURATION
# =============================================================================
INFURA_API_KEY=your_infura_api_key
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your_infura_key
CRYPTO_DEPOSIT_ADDRESS=0xYourDepositAddressHere

# Wallet private key (for automated transactions - use hardware wallet in production)
# HOT_WALLET_PRIVATE_KEY=0x... (Use AWS Secrets Manager or similar)

# =============================================================================
# AWS S3 CONFIGURATION (File Storage)
# =============================================================================
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=trading-platform-documents
AWS_REGION=us-east-1

# Backup bucket (separate from documents)
BACKUP_S3_BUCKET=trading-platform-backups

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@tradingplatform.com
SMTP_PASS=your_app_specific_password

# Email from address
EMAIL_FROM=noreply@tradingplatform.com
EMAIL_FROM_NAME="Trading Platform"

# =============================================================================
# MONITORING & ERROR TRACKING
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id
SENTRY_ENVIRONMENT=production

# LogRocket (Session Replay)
LOGROCKET_ID=your_logrocket_app_id

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CORS Origins (comma-separated)
CORS_ORIGINS=https://tradingplatform.com,https://app.tradingplatform.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_SECRET=CHANGE_THIS_TO_SECURE_SESSION_SECRET
SESSION_MAX_AGE=86400000

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_CRYPTO_PAYMENTS=true
ENABLE_WAVE_PAYMENTS=true
ENABLE_ORANGE_PAYMENTS=true
ENABLE_STRIPE_PAYMENTS=true
ENABLE_BANK_TRANSFER=true

# Trading Features
ENABLE_LIMIT_ORDERS=true
ENABLE_MARKET_ORDERS=true
ENABLE_REAL_TIME_UPDATES=true

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# Platform Fees
PLATFORM_FEE_PERCENTAGE=5.0
TRADING_FEE_PERCENTAGE=0.5
DIVIDEND_POOL_PERCENTAGE=60.0
REINVESTMENT_PERCENTAGE=40.0

# Trading Limits
MIN_ORDER_AMOUNT=10.00
MAX_ORDER_AMOUNT=100000.00
MIN_SHARE_PRICE=0.01
MAX_SHARE_PRICE=10000.00

# KYC Limits
KYC_REQUIRED_THRESHOLD=1000.00
KYC_VERIFICATION_REQUIRED=true

# =============================================================================
# NOTIFICATIONS
# =============================================================================
# Slack Webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Admin email for critical alerts
ADMIN_EMAIL=admin@tradingplatform.com

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Worker threads
WEB_CONCURRENCY=2

# Request timeout (ms)
REQUEST_TIMEOUT=30000

# Payload size limits
MAX_REQUEST_BODY_SIZE=50mb
MAX_FILE_UPLOAD_SIZE=10mb
